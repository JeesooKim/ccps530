<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Flask Lab | Users</title>    
        
    <!--<link href="../static/content/bootstrap.min.css" rel="stylesheet" media="screen">-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link href="../static/DataTables/DataTables-1.10.18/css/dataTables.bootstrap4.min.css" rel="stylesheet"  media="screen">
    
    <link href="../static/content/site.css" rel="stylesheet" media="screen">    
  </head>
  <body>
   <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <h1 class="navbar-brand"><a href="/">Flask Lab</a> || </h1>
                <div id="navMenu">
                    <a href="/">Home</a> | <a href="wordcount">Counting words</a> | <a href="image">Image Upload</a> | <a href="gallery">Image Gallery</a> | <a href="users" class="active">Users</a>
                </div>
            </div>
        </div>
    </div>
    <div class="container body-content">
      <div class="row">         
          <div class="col-sm-6">
            <h1>Users</h1><br/>
            <div><a href="adduser">Add a new user</a></div>
            <hr>
             {% if users %}
                    <div id="users">
                      <table class="table table-striped" style="max-width: 300px;">
                        <thead>
                          <tr>
                            <th>ID</th>
                            <th>Username</th>
                            <th>Password</th>
                            <th>Created time</th>
                            <th></th>
                            <th></th>
                          </tr>
                        </thead>
                        {% for user in users %}
                          <tr>
                            <td>{{ user[0] }}</td>
                            <td>{{ user[1] }}</a></td>
                            <td>{{ user[2] }}</td>
                            <td>{{ user[3] }}</td>
                            <td><a href="user_update/{{ user[0] }}">Edit</a></td>
                            <td><!--<a href="/user_delete/{{ user[0] }}" onclick="alert("Are you sure to delete?")">Delete</a>-->
                              <form action="/user_delete/{{ user[0] }}" method="POST"><button id="w3-btn">Delete</button></form>
                            </td>
                          </tr>
                        {% endfor %}
                      </table>
                    </div>
              {% endif %}              
              
          </div>          
      </div>
      
      
       <hr />
        <footer>
            <p>&copy; {{ year }} - My Flask Application by JEE SOO KIM</p>
        </footer>
    </div>
    
   <!--<script src="https://code.jquery.com/jquery-3.3.1.js"></script>-->
    <script src="../static/scripts/jquery-1.10.2.min.js"></script> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
        integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
        crossorigin="anonymous"></script>
    <script src="../static/scripts/respond.js"></script>
    
    <!--<script src="../static/DataTables/DataTables-1.10.18/js/jquery.dataTables.min.js"></script>
    <script src="../static/DataTables/DataTables-1.10.18/js/dataTables.bootstrap4.min.js"></script>-->
    <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="//cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
    
    <script type="text/javascript">
      $(document).ready(function() {
          $('#tblResults').DataTable({
              responsive:true,
              order: [[ 0, "desc" ]],
              columnDefs: [ {
                  targets: [ 1,3 ],
                  //orderData: [ 0, 1 ]
                  orderable: false
              },{
                  targets: [ 2 ],
                  //orderData: [ 0, 1 ]
                  //visible: false,
                  orderable:false
              }]
          });
      } );      
    </script>

    <!-- bootbox code -->
    <script src="../static/scripts/bootbox.min.js"></script>
    <script>
        $(document).on("click", ".alert", function(e) {
            bootbox.alert("Hello world!", function() {
                console.log("Alert Callback");
            });
        });
    </script>
  </body>
</html>